<div class="w-[46rem] max-w-[90vw] mx-auto mt-12 flex flex-col gap-8 mb-16 bg-white drop-shadow-md p-12 relative">
  <div class="flex flex-row gap-6 items-center">
    <img class="w-[8rem]" src="data:image/png;base64,{{ company.logoPhoto }}">
    <p class="h3-custom text-gray-700">{{ company.name }}</p>
  </div>
  <div class="text-body-reg text-gray-900">{{ company.description }}</div>
  <div>
    <p class="h4-custom text-gray-600">Lokalizacja siedziby:</p>
    <p class="text-body-reg text-gray-900">{{ company.address.country + ', ' + company.address.city + ', ' + company.address.zip + ', ' + company.address.street }}</p>
  </div>
  <div *ngIf="usersService.isAdmin() || company.isCurrentUserOwner" class="flex flex-col gap-2">
    <div class="flex flex-row justify-between items-baseline">
      <p class="h3-custom text-gray-700">Rekruterzy firmy:</p>
      <button (click)="goToAllCompanyRecruiters()" class="link-reg text-gray-500 hover:text-gray-400">Pokaż wszystkich></button>
    </div>
    <div class="bg-gray-100 p-4">
      <div *ngIf="company.recruitersSample.length == 0">
        <p class="text-center text-body-reg-semibold text-gray-500">List rekruterów jest pusta</p>
      </div>
      <div *ngIf="company.recruitersSample.length != 0" class="flex flex-col gap-4">
        <app-recruiters-list-item *ngFor="let recruiter of company.recruitersSample" [recruiter]="recruiter" [companyId]="company.id"></app-recruiters-list-item>
      </div>
    </div>
    <button (click)="goToAllCompanyRecruiters()" class="flex flex-row justify-center gap-2 items-center p-1 bg-primary-400 rounded text-body-reg-semibold text-gray-50 w-full hover:bg-primary-300" type="button">
      <p>Pokaż wszystkich</p>
      <svg class="button-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#000000" viewBox="0 0 256 256">
        <!--      <rect width="256" height="256" fill="none"></rect>-->
        <polyline points="96 48 176 128 96 208" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></polyline>
      </svg>
    </button>
    <div class="mt-2">
      <form [formGroup]="recruiterAddForm" (ngSubmit)="addRecruiter()" #form="ngForm" class="flex flex-col gap-2">
        <div>
          <div [ngClass]="{
              'border-red-400': (isRecruiterAddFormSubmitted && recruiterAddForm.get('email')?.invalid),
              'border-primary-400': !(isRecruiterAddFormSubmitted && recruiterAddForm.get('email')?.invalid) }"
               class="border-b-4 flex flex-col">
            <label class="h4-custom text-gray-500" for="email-input">Dodaj jako rekrutera tej firmy:</label>
            <input class="text-body-reg-bold text-gray-700 border-none bg-transparent placeholder-gray-400" id="email-input" type="text" formControlName="email" placeholder="Wpisz email użytkownika by dodać jako rekrutera">
          </div>
          <div>
            <div *ngIf="isRecruiterAddFormSubmitted" class="flex flex-col">
              <p *ngIf="recruiterAddForm.get('email')?.hasError('required')" class="validation-message">*Adres email nie może być puste</p>
              <p *ngIf="recruiterAddForm.get('email')?.hasError('minlength')" class="validation-message">*Adres email musi się składać z co najmniej 3 znaków</p>
              <p *ngIf="recruiterAddForm.get('email')?.hasError('maxlength')" class="validation-message">*Adres email musi się składać z maksymalnie 20 znaków</p>
              <p *ngIf="recruiterAddForm.get('email')?.hasError('email')" class="validation-message">*Niewłaściwy adres email</p>
              <p *ngIf="recruiterAddForm.hasError('UserNotFound')" class="validation-message">*Użytkownik z podanym adresem email nie istnieje</p>
              <p *ngIf="recruiterAddForm.hasError('AlreadyRecruiter')" class="validation-message">*Użytkownik jest już przypisany jako rekruter</p>
            </div>
          </div>
          <p *ngIf="isRecruiterAddedSuccess" class="text-green-500 text-body-reg-bold">Użytkownik został dodany jako rekruter</p>
        </div>
        <button class="flex flex-row justify-center gap-2 items-center p-1 bg-primary-400 rounded text-body-reg-semibold text-gray-50 w-full hover:bg-primary-300" type="submit">
          <svg class="button-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#000000" viewBox="0 0 256 256">
            <!--            <rect width="256" height="256" fill="none"></rect>-->
            <line x1="40" y1="128" x2="216" y2="128" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></line>
            <line x1="128" y1="40" x2="128" y2="216" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></line>
          </svg>
          <p>Dodaj</p>
        </button>
      </form>
    </div>
  </div>
  <div class="flex flex-col gap-2 mt-6">
    <div class="flex flex-row justify-between items-baseline">
      <p class="h3-custom text-gray-700">Najnowsze ogłoszenia firmy:</p>
      <button class="link-reg text-gray-500 hover:text-gray-400">Pokaż wszystkie></button>
    </div>
    <div class="bg-gray-100 flex flex-col gap-4 p-4">
      <app-latest-offers-list-item *ngFor="let offer of company.latestOffersSample" [offer]="offer"></app-latest-offers-list-item>
    </div>
    <button (click)="goToAllCompanyOffers()" class="flex flex-row justify-center gap-2 items-center p-1 bg-primary-400 rounded text-body-reg-semibold text-gray-50 w-full hover:bg-primary-300" type="button">
      <p>Pokaż wszystkie</p>
      <svg class="button-icon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#000000" viewBox="0 0 256 256">
        <!--      <rect width="256" height="256" fill="none"></rect>-->
        <polyline points="96 48 176 128 96 208" fill="none" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></polyline>
      </svg>
    </button>
  </div>
</div>
